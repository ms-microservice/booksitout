FROM openjdk:17-oracle

MAINTAINER JINKYUM PARK
WORKDIR ./
ARG JAR_FILE_PATH=./*.jar

ARG SEARCH_ALADIN_API_KEY
ARG SEARCH_DATA4LIBRARY_API_KEY

ENV SEARCH_ALADIN_API_KEY=$SEARCH_ALADIN_API_KEY
ENV SEARCH_DATA4LIBRARY_API_KEY=$SEARCH_DATA4LIBRARY_API_KEY

EXPOSE 8100

CMD ["./mvnw", "clean", "build"]
COPY ${JAR_FILE_PATH} ./bookitout.jar
ENTRYPOINT ["java", "-jar", "bookitout.jar"]